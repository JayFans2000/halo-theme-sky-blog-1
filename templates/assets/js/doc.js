import"./chunks/article-content-CjRqbsg3.js";import{b as h,c as L,s as v}from"./chunks/toc-utils-BLHN02M0.js";function E(){const e=document.getElementById("toc-nav"),t=document.getElementById("toc-card"),n=document.getElementById("article-content");if(!e||!n)return;const c=n.querySelectorAll("h1, h2, h3, h4, h5, h6");if(!c.length){t&&(t.style.display="none");return}const i=Array.from(c,s=>+s.tagName[1]),o=Math.min(...i),d=Array.from(c).filter(s=>+s.tagName[1]<=o+2);if(!d.length){t&&(t.style.display="none");return}const l=h(d,o),r=L(l,{onClick:s=>v(s,80)});e.innerHTML="",e.appendChild(r);const a=e.querySelectorAll(".toc-link");let u=null;const m=new IntersectionObserver(s=>{s.forEach(y=>{if(y.isIntersecting){const g=y.target.id,f=e.querySelector(`.toc-link[data-heading-id="${g}"]`);f&&f!==u&&(a.forEach(p=>p.classList.remove("active")),f.classList.add("active"),u=f)}})},{rootMargin:"-80px 0px -70% 0px",threshold:0});d.forEach(s=>m.observe(s))}function D(){document.addEventListener("click",e=>{document.querySelectorAll(".doc-version-dropdown.show").forEach(t=>{t.closest(".doc-version-selector")?.contains(e.target)||t.classList.remove("show")})},{passive:!0})}function b(){const e=document.querySelector(".doc-sidebar"),t=document.querySelector(".doc-toc"),n=document.querySelector("footer"),c=document.querySelector(".doc-layout");if(!n||!e&&!t)return;let i=64;if(c){const r=getComputedStyle(c).getPropertyValue("--doc-nav-height");r&&(i=parseInt(r))}else{const r=getComputedStyle(document.documentElement).getPropertyValue("--doc-nav-height");r&&(i=parseInt(r))}const o=i+16;function d(){window.innerHeight||document.documentElement.clientHeight;const r=n.getBoundingClientRect();[e,t].forEach(a=>{if(!a)return;const u=a.offsetHeight,m=r.top-16-u;m<o?a.style.top=`${m}px`:a.style.top!==`${o}px`&&(a.style.top=`${o}px`)})}let l=!1;window.addEventListener("scroll",()=>{l||(window.requestAnimationFrame(()=>{d(),l=!1}),l=!0)},{passive:!0}),d(),window.addEventListener("resize",d)}function S(){const e=document.getElementById("doc-toc-overlay"),t=document.getElementById("doc-toc-drawer"),n=document.getElementById("doc-toc-drawer-nav");e&&t&&(window.openDocTocDrawer=()=>{if(e.classList.add("open"),t.classList.add("open"),document.body.style.overflow="hidden",n&&!n.querySelector(".toc-list")){const o=document.getElementById("toc-nav");o&&o.innerHTML.trim()&&(n.innerHTML=o.innerHTML,T(n))}},window.closeDocTocDrawer=()=>{e.classList.remove("open"),t.classList.remove("open"),document.body.style.overflow=""});const c=document.getElementById("doc-sidebar-overlay"),i=document.getElementById("doc-sidebar-drawer");c&&i&&(window.openDocSidebarDrawer=()=>{c.classList.add("open"),i.classList.add("open"),document.body.style.overflow="hidden"},window.closeDocSidebarDrawer=()=>{c.classList.remove("open"),i.classList.remove("open"),document.body.style.overflow=""}),document.addEventListener("keydown",o=>{o.key==="Escape"&&(t?.classList.contains("open")&&window.closeDocTocDrawer(),i?.classList.contains("open")&&window.closeDocSidebarDrawer())})}function T(e){e.querySelectorAll(".toc-link").forEach(n=>{n.addEventListener("click",c=>{c.preventDefault();const i=n.getAttribute("data-heading-id")||n.getAttribute("href").slice(1),o=document.getElementById(i);o&&(window.closeDocTocDrawer(),setTimeout(()=>{v(o,80)},100))})})}function w(){E(),D(),b(),S()}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",w):w();
