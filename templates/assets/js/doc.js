function e(t){const o=document.createElement("ol");return o.className="toc-list",t.forEach(t=>{const n=document.createElement("li");n.className="toc-item-wrapper";const c=document.createElement("a");if(c.href=`#${t.id}`,c.textContent=t.text,c.className="toc-link",c.setAttribute("data-relative-level",t.relativeLevel.toString()),c.setAttribute("data-heading-id",t.id),n.appendChild(c),t.children.length>0){const o=e(t.children);n.appendChild(o)}o.appendChild(n)}),o}function t(){const t=document.getElementById("toc-nav"),o=document.getElementById("toc-card"),n=document.getElementById("doc-content");if(!t||!n)return;const c=n.querySelectorAll("h1, h2, h3, h4, h5, h6");if(!c.length)return void(o&&(o.style.display="none"));const d=Array.from(c,e=>+e.tagName[1]),r=Math.min(...d),i=Array.from(c).filter(e=>+e.tagName[1]<=r+2);if(!i.length)return void(o&&(o.style.display="none"));const l=function(e,t){const o=[],n=[];return e.forEach((e,c)=>{e.id||(e.id=`heading-${c}`);const d=parseInt(e.tagName.charAt(1)),r=d-t,i={id:e.id,text:e.textContent.trim(),absoluteLevel:d,relativeLevel:r,element:e,children:[]};for(;n.length>0&&n[n.length-1].relativeLevel>=r;)n.pop();0===n.length?o.push(i):n[n.length-1].children.push(i),n.push(i)}),o}(i,r),s=e(l);t.innerHTML="",t.appendChild(s),t.addEventListener("click",e=>{const t=e.target.closest(".toc-link");if(!t)return;e.preventDefault();const o=t.getAttribute("href").slice(1),n=document.getElementById(o);n&&window.scrollTo({top:n.offsetTop-80,behavior:"smooth"})});const a=t.querySelectorAll(".toc-link");let u=null;const m=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const o=e.target.id,n=t.querySelector(`.toc-link[data-heading-id="${o}"]`);n&&n!==u&&(a.forEach(e=>e.classList.remove("active")),n.classList.add("active"),u=n)}})},{rootMargin:"-80px 0px -70% 0px",threshold:0});i.forEach(e=>m.observe(e))}function o(){const e=document.getElementById("doc-toc-overlay"),t=document.getElementById("doc-toc-drawer"),o=document.getElementById("doc-toc-drawer-nav");e&&t&&(window.openDocTocDrawer=()=>{if(e.classList.add("open"),t.classList.add("open"),document.body.style.overflow="hidden",o&&!o.querySelector(".toc-list")){const e=document.getElementById("toc-nav");e&&e.innerHTML.trim()&&(o.innerHTML=e.innerHTML,o.querySelectorAll(".toc-link").forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const o=e.getAttribute("data-heading-id")||e.getAttribute("href").slice(1),n=document.getElementById(o);n&&(window.closeDocTocDrawer(),setTimeout(()=>{window.scrollTo({top:n.offsetTop-80,behavior:"smooth"})},100))})}))}},window.closeDocTocDrawer=()=>{e.classList.remove("open"),t.classList.remove("open"),document.body.style.overflow=""});const n=document.getElementById("doc-sidebar-overlay"),c=document.getElementById("doc-sidebar-drawer");n&&c&&(window.openDocSidebarDrawer=()=>{n.classList.add("open"),c.classList.add("open"),document.body.style.overflow="hidden"},window.closeDocSidebarDrawer=()=>{n.classList.remove("open"),c.classList.remove("open"),document.body.style.overflow=""}),document.addEventListener("keydown",e=>{"Escape"===e.key&&(t?.classList.contains("open")&&window.closeDocTocDrawer(),c?.classList.contains("open")&&window.closeDocSidebarDrawer())})}function n(){!function(){const e=document.querySelectorAll("#doc-content img");e.length&&e.forEach(e=>{e.loading||(e.loading="lazy",e.decoding="async"),e.complete?e.classList.add("loaded"):e.addEventListener("load",()=>e.classList.add("loaded"),{once:!0})})}(),t(),document.addEventListener("click",e=>{document.querySelectorAll(".doc-version-dropdown.show").forEach(t=>{t.closest(".doc-version-selector")?.contains(e.target)||t.classList.remove("show")})},{passive:!0}),function(){const e=document.querySelector(".doc-sidebar"),t=document.querySelector(".doc-toc"),o=document.querySelector("footer"),n=document.querySelector(".doc-layout");if(!o||!e&&!t)return;let c=64;if(n){const e=getComputedStyle(n).getPropertyValue("--doc-nav-height");e&&(c=parseInt(e))}else{const e=getComputedStyle(document.documentElement).getPropertyValue("--doc-nav-height");e&&(c=parseInt(e))}const d=c+16;function r(){window.innerHeight||document.documentElement.clientHeight;const n=o.getBoundingClientRect();[e,t].forEach(e=>{if(!e)return;const t=e.offsetHeight,o=n.top-16-t;o<d?e.style.top=`${o}px`:e.style.top!==`${d}px`&&(e.style.top=`${d}px`)})}let i=!1;window.addEventListener("scroll",()=>{i||(window.requestAnimationFrame(()=>{r(),i=!1}),i=!0)},{passive:!0}),r(),window.addEventListener("resize",r)}(),o()}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",n):n();
