function d(i,r){const o=[],t=[];return i.forEach((e,l)=>{e.id||(e.id=`heading-${l}`);const n=parseInt(e.tagName.charAt(1)),a=n-r,c={id:e.id,text:e.textContent.trim(),absoluteLevel:n,relativeLevel:a,element:e,children:[]};for(;t.length>0&&t[t.length-1].relativeLevel>=a;)t.pop();t.length===0?o.push(c):t[t.length-1].children.push(c),t.push(c)}),o}function s(i,r={}){const{addTooltip:o=!1,onClick:t=null}=r,e=document.createElement("ol");return e.className="toc-list",i.forEach(l=>{const n=document.createElement("li");n.className="toc-item-wrapper",n.style.setProperty("--toc-indent-multiplier",l.relativeLevel.toString());const a=document.createElement("a");if(a.href=`#${l.id}`,a.textContent=l.text,a.className=o?"toc-link tooltip tooltip-right":"toc-link",a.setAttribute("data-relative-level",l.relativeLevel.toString()),a.setAttribute("data-absolute-level",l.absoluteLevel.toString()),a.setAttribute("data-heading-id",l.id),o&&a.setAttribute("data-tip",l.text),t&&a.addEventListener("click",c=>{c.preventDefault(),t(l.element,c)}),n.appendChild(a),l.children.length>0){const c=s(l.children,r);n.appendChild(c)}e.appendChild(n)}),e}function h(i,r=80){if(!i)return;const o=i.offsetTop-r;window.scrollTo({top:o,behavior:"smooth"})}function p(i){const r=Array.from(i),o=r.map(n=>parseInt(n.tagName.charAt(1))),t=Math.min(...o),e=t+2;return{filteredHeadings:r.filter(n=>parseInt(n.tagName.charAt(1))<=e),minLevel:t,maxDisplayLevel:e,totalLevels:o.length>0?Math.max(...o)-t+1:0}}export{p as a,d as b,s as c,h as s};
